applications:
  - prometheus

parameters:
  kapitan:
    dependencies:
      - type: https
        source: https://raw.githubusercontent.com/projectsyn/component-prometheus/master/lib/prometheus.libsonnet
        output_path: vendor/lib/prometheus.libsonnet

  cert_manager:
    acmeClients:
      vshn-default:
        api:
          endpoint: https://acme-dns-api.example.com
          username: vshn-default-username
          password: vshn-default-password
        fqdns:
          - 'api.${cluster:name}.example.com'
          - '*.apps.${cluster:name}.example.com'

    issuers:
      ca-issuer:
        metadata:
          namespace: mesh-system
        spec:
          ca:
            secretName: ca-key-pair

    cluster_issuers:
      ca-issuer:
        spec:
          ca:
            secretName: ca-key-pair

  prometheus:
    defaultInstance: infra-monitoring
